{
  "refactorings": {
    "maestro-engine/src/main/java/com/netflix/maestro/engine/handlers/WorkflowActionHandler.java": [
      {
        "fromLine": 179,
        "toLine": 243,
        "oldContent": "  public Optional<Details> runForeachBatch(\n      Workflow workflow,\n      Long internalId,\n      long workflowVersionId,\n      RunProperties runProperties,\n      String foreachStepId,\n      ForeachArtifact artifact,\n      List<RunRequest> requests,\n      List<Long> instanceIds,\n      int batchSize) {",
        "newContent": "  public Optional<Details> runForeachBatch(\n      WorkflowContext context,\n      String foreachStepId,\n      ForeachArtifact artifact,\n      List<RunRequest> requests,\n      List<Long> instanceIds,\n      int batchSize) {"
      },
      {
        "fromLine": 245,
        "toLine": 245,
        "oldContent": "        createWorkflowInstances(workflow, internalId, workflowVersionId, runProperties, requests);",
        "newContent": "        createWorkflowInstances(context.getWorkflow(), context.getInternalId(), context.getWorkflowVersionId(), context.getRunProperties(), requests);"
      },
      {
        "fromLine": 305,
        "toLine": 305,
        "oldContent": "      RunProperties runProperties,\n      String foreachStepId,\n      ForeachArtifact artifact,\n      List<RunRequest> requests,\n      List<Long> instanceIds) {",
        "newContent": "      WorkflowContext context,\n      String foreachStepId,\n      ForeachArtifact artifact,\n      List<RunRequest> requests,\n      List<Long> instanceIds) {"
      }
    ]
  },
  "extractedClasses": {
    "maestro-engine/src/main/java/com/netflix/maestro/engine/handlers/WorkflowContext.java": "public class WorkflowContext {\n\n    private final Workflow workflow;\n    private final Long internalId;\n    private final long workflowVersionId;\n    private final RunProperties runProperties;\n\n    public WorkflowContext(Workflow workflow, Long internalId, long workflowVersionId, RunProperties runProperties) {\n        this.workflow = workflow;\n        this.internalId = internalId;\n        this.workflowVersionId = workflowVersionId;\n        this.runProperties = runProperties;\n    }\n\n    public Workflow getWorkflow() {\n        return workflow;\n    }\n\n    public Long getInternalId() {\n        return internalId;\n    }\n\n    public long getWorkflowVersionId() {\n        return workflowVersionId;\n    }\n\n    public RunProperties getRunProperties() {\n        return runProperties;\n    }\n}\n"
  },
  "tenperature": 0.1,
  "date": "2024-07-25T17:12:58.635Z"
}